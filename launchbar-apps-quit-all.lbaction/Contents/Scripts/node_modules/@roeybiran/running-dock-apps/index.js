'use strict';
const cp = require('child_process');
const util = require('util');

const execFile = util.promisify(cp.execFile);

/**
 * @returns {string[]} - a list of the bundle identifiers of the currenly running 'dock' apps.
 */
module.exports = async () => {
    try {
        let result = await execFile(
            '/usr/bin/osascript',
            ['-e', 'tell application "System Events" to return bundle identifier of every application process whose background only = false'])
        return result.stdout.trim().split(', ')
    } catch (error) {
        console.log(error);
    }
};
